# 生成地址

在生成私钥和公钥后可以进一步通过算法生成地址。生成地址包含以下步骤：

1.通过ED25519算法对raw private key进行处理生成32位的字节数组，即 raw public key。例如私钥为 _privbsGZFUoRv8aXZbSGd3bwzZWFn3L5QKq74RXAQYcmfXhhZ54CLr9z_，其raw public key 如下所示：

_\[21,118,76,208,23,224,218,117,50,113,250,38,205,82,148,81,162,27,130,83,208,1,240,212,54,18,225,158,198,50,87,10\]_

2.对 raw public key 进行两次SHA256运算，并取运算结果的后20位字节，得到字节数组，如下所示：

_\[173,148,59,51,183,193,55,160,1,133,247,80,65,13,67,190,164,114,18,220\]_

3.在第2步产生的字节数组前面加上2个字节的前缀（Prefix），然后再加上1个字节的版本号（Version），得到新的字节数组，如下所示：

_\[1,86,1,173,148,59,51,183,193,55,160,1,133,247,80,65,13,67,190,164,114,18,220\]_

> **说明**：关于Prefix、Version以及Checksum请查看表3。

4.对第3步中的字节数组进行两次SHA256计算，取运算结果的前4个字节，得到校验码（Checksum）的字节数组，如下所示：

_\[167,127,34,35\]_

5.将第3步中的字节数组和第4步的校验码字节数组按照先后顺序连接在一起，得到新的字节数组，如下所示：

_\[1,86,1,173,148,59,51,183,193,55,160,1,133,247,80,65,13,67,190,164,114,18,220,167,127,34,35\]_

6.对第5步中产生的字节数组进行Base58编码，得到以bu开头的字符串，即地址（address），如下所示：

_buQmWJrdYJP5CPKTbkQUqscwvTGaU44dord8_

> **说明**：至此就完成了地址的生成。

表3

| 名称 | 数据内容 | 长度 |
| --- | --- | --- | --- | --- |
| Prefix | 0x01 0x56 | 2个字节 |
| Version | 0x01 | 1个字节 |
| PublicKey | 取raw public key的后20个字节 | 20个字节 |
| Checksum | 对第3步中得到的字节数组进行两次SHA256运算之后，取运算结果的前4个字节 | 4个字节 |

该表对生成地址中使用到的Prefix、Version以及Checksum进行了说明。

