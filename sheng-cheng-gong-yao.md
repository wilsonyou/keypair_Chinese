# 生成公钥

生成公钥需要在生成私钥之后才能实现，需要用到ED25519算法。生成公钥包含以下步骤：

1.通过ED25519算法对raw private key进行处理生成32位的字节数组，即raw public key。例如私钥是   
_privbsGZFUoRv8aXZbSGd3bwzZWFn3L5QKq74RXAQYcmfXhhZ54CLr9z_，其raw public key如下所示：

_\[21,118,76,208,23,224,218,117,50,113,250,38,205,82,148,81,162,27,130,83,208,1,240,212,54,18,225,158,198,50,87,10\]_

2.在raw public key 前面加上1个字节的前缀（Prefix），然后再加上1个字节的版本号（Version），得到新的字节数组，如下所示：

_\[176,1,21,118,76,208,23,224,218,117,50,113,250,38,205,82,148,81,162,27,130,83,208,1,240,212,54,18,225,158,198,50,87,10\]_

> **说明**：关于Prefix、Version以及Checksum请查看表2。

3.对第2步中的字节数组进行两次SHA256计算，取运算结果的前4个字节，得到校验码（Checksum）的字节数组，如下所示：

_\[116,171,22,107\]_

4.将第2步中的字节数组和3步的校验码字节数组按照先后顺序连接在一起，得到新的字节数组，如下所示：

_\[176,1,21,118,76,208,23,224,218,117,50,113,250,38,205,82,148,81,162,27,130,83,208,1,240,212,54,18,225,158,198,50,87,10,116,171,22,107\]_

5.对第4步中的字节数组进行16进制编码，得到16进制字符串，即公钥（public key），如下所示：

_b00115764cd017e0da753271fa26cd529451a21b8253d001f0d43612e19ec632570a74ab166b_

> **说明**：至此就完成了公钥的生成。

表2

| 名称 | 数据内容 | 长度 |
| --- | --- | --- | --- |
| Prefix | 0xB0 | 1个字节 |
| Version | 0x01 | 1个字节 |
| Checksum | 对第2步中得到的字节数组进行两次SHA256运算之后，取运算结果的前4个字节 | 4个字节 |

该表对生成公钥中使用到的Prefix、Version以及Checksum进行了说明。

